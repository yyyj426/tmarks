const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-nR4W4XKG.js","assets/prompts-CKcm-rRX.js","assets/urls-DUfIfy6Z.js"])))=>i.map(i=>d[i]);
import"./modulepreload-polyfill-YP0FEG5d.js";import{k as t,r as e,n as o,R as a}from"./react-vendor-1ZtHTM4k.js";import{L as r,u as s,a as n,i,b as l,E as d,S as b}from"./index-BDNHsF_Y.js";import{A as c,a as p,T as m}from"./urls-DUfIfy6Z.js";import{D as u}from"./prompts-CKcm-rRX.js";import{N as x}from"./newtabPrompts-Br339DSM.js";import{_ as v}from"./preload-helper-BhLMWRjL.js";import{d as h}from"./index-NQ3jknxk.js";import"./dexie-BAhLzSXZ.js";const g={openai:"OpenAI",claude:"Claude",deepseek:"DeepSeek",zhipu:"æ™ºè°±AI",modelscope:"ModelScope",siliconflow:"SiliconFlow",iflow:"è®¯é£žæ˜Ÿç«",custom:"è‡ªå®šä¹‰"};function f({connections:e,showAll:o,onToggleShowAll:a,onApply:r,onDelete:s,currentProvider:n}){const i=o?e:e.slice(0,3);return t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-semibold text-[var(--tab-options-title)]",children:"å·²ä¿å­˜çš„å…¨éƒ¨é…ç½®"}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-[var(--tab-options-text-muted)]",children:[t.jsxs("span",{children:["å…± ",e.length," ä¸ª"]}),e.length>3&&t.jsx("button",{type:"button",onClick:a,className:"rounded-full border border-[color:var(--tab-options-button-border)] px-2 py-0.5 text-[11px] font-medium text-[var(--tab-options-button-text)] transition-colors hover:bg-[var(--tab-options-button-hover-bg)]",children:o?"æ”¶èµ·":`å±•å¼€æ›´å¤š (${e.length-3})`})]})]}),0===e.length?t.jsx("div",{className:"rounded-xl border border-dashed border-[color:var(--tab-options-button-border)] bg-[color:var(--tab-options-card-bg)] p-6 text-sm text-[var(--tab-options-text-muted)]",children:"ç›®å‰è¿˜æ²¡æœ‰ä¿å­˜è¿‡ä»»ä½•é…ç½®ï¼Œå¡«å†™å¥½ API ä¿¡æ¯åŽç‚¹å‡»ã€Œä¿å­˜å½“å‰é…ç½®ã€å³å¯åˆ›å»ºé¢„è®¾ã€‚"}):t.jsx("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-3",children:i.map((e,o)=>t.jsxs("div",{className:"group flex flex-col justify-between gap-3 rounded-2xl border border-[color:var(--tab-options-card-border)] bg-[color:var(--tab-options-card-bg)] p-4 shadow-sm transition-all hover:-translate-y-1 hover:border-[color:var(--tab-options-modal-border)] hover:shadow-lg",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("p",{className:"text-sm font-semibold text-[var(--tab-options-title)] truncate",title:e.label||e.apiUrl||"æœªå‘½åé…ç½®",children:e.label||"æœªå‘½åé…ç½®"}),t.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-[color:var(--tab-options-pill-bg)] text-[var(--tab-options-pill-text)] px-2 py-0.5 text-[11px]",children:[t.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-[var(--tab-options-button-primary-bg)]"}),g[e.provider||n]]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{type:"button",onClick:()=>r(e,e.provider),className:"flex-1 rounded-lg bg-[var(--tab-options-button-primary-bg)] px-3 py-2 text-xs font-medium text-[var(--tab-options-button-primary-text)] transition-colors hover:bg-[var(--tab-options-button-primary-hover)]",children:"ä½¿ç”¨"}),t.jsx("button",{type:"button",onClick:()=>s(e,e.provider),className:"rounded-lg border border-[color:var(--tab-options-button-border)] px-3 py-2 text-xs font-medium text-[var(--tab-options-button-text)] transition-colors hover:bg-[var(--tab-options-button-hover-bg)]",children:"åˆ é™¤"})]})]},e.id||`${e.provider||"unknown"}-${e.label||e.apiUrl||"default"}-${o}`))})]})}const y={openai:"gpt-4o-mini (æŽ¨è) æˆ– gpt-4o",claude:"claude-3-5-sonnet-20241022 (æŽ¨è)",deepseek:"deepseek-chat",zhipu:"glm-4-flash (æŽ¨è) æˆ– glm-4-plus",modelscope:"qwen-plus æˆ– qwen-turbo",siliconflow:"Qwen/Qwen2.5-7B-Instruct",iflow:"spark-lite æˆ– spark-pro",custom:"è¯·è¾“å…¥æ¨¡åž‹åç§°"};function j({model:o,provider:a,availableModels:r,isFetchingModels:s,modelFetchError:n,modelFetchSupported:i,apiKey:l,onModelChange:d,onRefreshModels:b}){const[c,p]=e.useState(!1),m=e.useRef(null),u=r.length>0;e.useEffect(()=>{if(!c)return;const t=t=>{m.current&&!m.current.contains(t.target)&&p(!1)};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[c]),e.useEffect(()=>{u||p(!1)},[u]);return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("label",{className:"block text-sm font-medium text-[var(--tab-options-text)]",children:"æ¨¡åž‹"}),t.jsx("button",{type:"button",onClick:b,disabled:!i||s||!l.trim(),className:"text-xs px-3 py-1 rounded-lg transition-colors "+(i&&!s&&l.trim()?"bg-[var(--tab-options-button-primary-bg)] text-[var(--tab-options-button-primary-text)] hover:bg-[var(--tab-options-button-primary-hover)]":"bg-[var(--tab-options-button-hover-bg)] text-[var(--tab-options-text-muted)] cursor-not-allowed"),children:s?"èŽ·å–ä¸­...":"åˆ·æ–°æ¨¡åž‹"})]}),t.jsxs("div",{className:"relative w-full",ref:m,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"text",value:o,onChange:t=>d(t.target.value),placeholder:y[a],className:"flex-1 px-3 py-2 border border-[color:var(--tab-options-button-border)] rounded-lg bg-[color:var(--tab-options-card-bg)] text-[var(--tab-options-title)] focus:outline-none focus:ring-2 focus:ring-[var(--tab-options-button-primary-bg)]"}),u&&t.jsxs("button",{type:"button",onClick:()=>p(t=>!t),className:"px-3 py-2 rounded-lg bg-[var(--tab-options-button-hover-bg)] text-[var(--tab-options-button-text)] hover:bg-[color:var(--tab-options-button-border)] transition-colors flex items-center gap-1",children:[t.jsx("span",{className:"text-sm font-medium",children:"é€‰æ‹©æ¨¡åž‹"}),t.jsx("span",{className:"transition-transform "+(c?"rotate-180":""),children:"â–¾"})]})]}),u&&c&&t.jsx("div",{className:"absolute z-10 mt-2 right-0 w-full max-h-[33vh] overflow-y-auto rounded-lg border border-[color:var(--tab-options-card-border)] bg-[color:var(--tab-options-modal-bg)] shadow-2xl",children:r.map(e=>{const a=o===e;return t.jsx("button",{type:"button",onClick:()=>(d(e),void p(!1)),className:"w-full text-left px-3 py-2 text-sm transition-colors "+(a?"bg-[color:var(--tab-options-pill-bg)] text-[var(--tab-options-pill-text)]":"text-[var(--tab-options-button-text)] hover:bg-[var(--tab-options-button-hover-bg)]"),children:e},e)})})]}),u&&t.jsxs("p",{className:"mt-2 text-xs text-[var(--tab-options-pill-text)]",children:["å·²èŽ·å– ",r.length," ä¸ªæ¨¡åž‹ï¼Œå¯ç›´æŽ¥é€‰æ‹©æˆ–æ‰‹åŠ¨è¾“å…¥ã€‚"]}),n&&t.jsxs("p",{className:"mt-2 text-xs text-[var(--tab-options-danger-text)]",children:["æ¨¡åž‹åˆ—è¡¨åŠ è½½å¤±è´¥ï¼š",n]}),!u&&i&&!n&&!s&&t.jsx("p",{className:"mt-2 text-xs text-[var(--tab-options-text-muted)]",children:"è¾“å…¥ API åœ°å€ä¸Ž Key åŽå¯åˆ·æ–°èŽ·å–å¯ç”¨æ¨¡åž‹åˆ—è¡¨ã€‚"})]})}const N={openai:"è¯·è¾“å…¥ OpenAI API Key",claude:"è¯·è¾“å…¥ Claude API Key",deepseek:"è¯·è¾“å…¥ DeepSeek API Key",zhipu:"è¯·è¾“å…¥æ™ºè°± API Key",modelscope:"è¯·è¾“å…¥ ModelScope API Key",siliconflow:"è¯·è¾“å…¥ SiliconFlow API Key",iflow:"è¯·è¾“å…¥è®¯é£žæ˜Ÿç« API Key",custom:"è¯·è¾“å…¥ API Key"},w={openai:{name:"OpenAI Platform",url:c.OPENAI},claude:{name:"Anthropic Console",url:c.CLAUDE},deepseek:{name:"DeepSeek Platform",url:c.DEEPSEEK},zhipu:{name:"æ™ºè°±AIå¼€æ”¾å¹³å°",url:c.ZHIPU},modelscope:{name:"ModelScope",url:c.MODELSCOPE},siliconflow:{name:"SiliconFlow",url:c.SILICONFLOW},iflow:{name:"è®¯é£žå¼€æ”¾å¹³å°",url:c.IFLOW}};function k({provider:e,apiKey:o,onChange:a}){const r=w[e];return t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[var(--tab-options-text)] mb-3",children:"API Key"}),t.jsx("input",{type:"password",value:o,onChange:t=>a(t.target.value),placeholder:N[e],className:"w-full px-3 py-2 border border-[color:var(--tab-options-button-border)] rounded-lg bg-[color:var(--tab-options-card-bg)] text-[var(--tab-options-title)] focus:outline-none focus:ring-2 focus:ring-[var(--tab-options-button-primary-bg)]"}),r&&t.jsxs("p",{className:"mt-2 text-xs text-[var(--tab-options-text-muted)]",children:["èŽ·å– API Keyï¼š",t.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"text-[var(--tab-options-pill-text)] hover:underline",children:r.name})]})]})}function C({formData:o,setFormData:a,handleProviderChange:r,handleTestConnection:s,isTesting:n,availableModels:i,isFetchingModels:l,modelFetchError:d,onRefreshModels:b,modelFetchSupported:c,allSavedConnections:m,onApplySavedConnection:u,onDeleteSavedConnection:x,onSaveConnectionPreset:v}){const[h,g]=e.useState(!1);e.useEffect(()=>{m.length<=3&&h&&g(!1)},[m.length,h]);const y="custom"===o.aiProvider||"siliconflow"===o.aiProvider||"deepseek"===o.aiProvider||"openai"===o.aiProvider;return t.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-[color:var(--tab-options-card-border)] bg-[color:var(--tab-options-card-bg)] shadow-sm backdrop-blur transition-shadow hover:shadow-lg",children:[t.jsx("div",{className:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-[var(--tab-options-modal-topbar-from)] via-[var(--tab-options-modal-topbar-via)] to-[var(--tab-options-modal-topbar-to)]"}),t.jsxs("div",{className:"p-8 pt-12 space-y-8",children:[t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-semibold text-[var(--tab-options-title)]",children:"AI é…ç½®"}),t.jsx("p",{className:"mt-2 text-sm text-[var(--tab-options-text)]",children:"è¿žæŽ¥ä½ çš„æ™ºèƒ½æ ‡ç­¾æœåŠ¡ï¼Œç®¡ç†æ¨¡åž‹ä¸Žè°ƒç”¨ç­–ç•¥ã€‚"})]}),t.jsx("button",{type:"button",onClick:v,disabled:!o.apiKey.trim(),className:"inline-flex items-center justify-center rounded-lg px-4 py-2 text-sm font-medium transition-colors "+(o.apiKey.trim()?"bg-[var(--tab-options-button-primary-bg)] text-[var(--tab-options-button-primary-text)] hover:bg-[var(--tab-options-button-primary-hover)] shadow-sm":"bg-[var(--tab-options-button-hover-bg)] text-[var(--tab-options-text-muted)] cursor-not-allowed"),children:"ä¿å­˜å½“å‰é…ç½®"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx(f,{connections:m,showAll:h,onToggleShowAll:()=>g(t=>!t),onApply:u,onDelete:x,currentProvider:o.aiProvider}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[var(--tab-options-text)] mb-3",children:"AI å¼•æ“Ž"}),t.jsxs("select",{value:o.aiProvider,onChange:t=>r(t.target.value),className:"w-full px-3 py-2 border border-[color:var(--tab-options-button-border)] rounded-lg bg-[color:var(--tab-options-card-bg)] text-[var(--tab-options-title)] focus:outline-none focus:ring-2 focus:ring-[var(--tab-options-button-primary-bg)]",children:[t.jsx("option",{value:"openai",children:"OpenAI (GPT-4, GPT-3.5)"}),t.jsx("option",{value:"claude",children:"Claude (Anthropic)"}),t.jsx("option",{value:"deepseek",children:"DeepSeek"}),t.jsx("option",{value:"zhipu",children:"æ™ºè°±AI (GLM-4)"}),t.jsx("option",{value:"modelscope",children:"ModelScope (é€šä¹‰åƒé—®)"}),t.jsx("option",{value:"siliconflow",children:"SiliconFlow"}),t.jsx("option",{value:"iflow",children:"iFlytek Spark (è®¯é£žæ˜Ÿç«)"}),t.jsx("option",{value:"custom",children:"è‡ªå®šä¹‰ API"})]})]}),y&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[var(--tab-options-text)] mb-3",children:"API åœ°å€"}),t.jsx("input",{type:"url",value:o.apiUrl,onChange:t=>a({...o,apiUrl:t.target.value}),placeholder:(()=>{switch(o.aiProvider){case"openai":return p.OPENAI;case"deepseek":return p.DEEPSEEK;case"siliconflow":return p.SILICONFLOW;default:return"è¯·è¾“å…¥è‡ªå®šä¹‰ API åœ°å€"}})(),className:"w-full px-3 py-2 border border-[color:var(--tab-options-button-border)] rounded-lg bg-[color:var(--tab-options-card-bg)] text-[var(--tab-options-title)] focus:outline-none focus:ring-2 focus:ring-[var(--tab-options-button-primary-bg)]"})]}),t.jsx(k,{provider:o.aiProvider,apiKey:o.apiKey,onChange:t=>a({...o,apiKey:t})}),t.jsx(j,{model:o.aiModel,provider:o.aiProvider,availableModels:i,isFetchingModels:l,modelFetchError:d,modelFetchSupported:c,apiKey:o.apiKey,onModelChange:t=>a({...o,aiModel:t}),onRefreshModels:b}),t.jsx("div",{children:t.jsx("button",{onClick:s,disabled:n||!o.apiKey,className:"px-4 py-2 bg-[var(--tab-options-button-primary-bg)] hover:bg-[var(--tab-options-button-primary-hover)] disabled:opacity-50 text-[var(--tab-options-button-primary-text)] rounded-lg transition-colors duration-200",children:n?"æµ‹è¯•ä¸­...":"æµ‹è¯•è¿žæŽ¥"})})]})]})]})}function P({formData:e,setFormData:o}){return t.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-[color:var(--tab-options-tmarks-card-border)] bg-[color:var(--tab-options-tmarks-card-bg)] shadow-sm backdrop-blur transition-shadow hover:shadow-lg",children:[t.jsx("div",{className:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-[var(--tab-options-tmarks-topbar-from)] via-[var(--tab-options-tmarks-topbar-via)] to-[var(--tab-options-tmarks-topbar-to)]"}),t.jsxs("div",{className:"p-6 pt-10 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-[var(--tab-options-title)]",children:"åŒæ­¥è®¾ç½®"}),t.jsx("p",{className:"mt-2 text-sm text-[var(--tab-options-text)]",children:"é…ç½®åŒæ­¥æœåŠ¡ç«¯ï¼ˆTMarksï¼‰ä»¥åŒæ­¥ä¹¦ç­¾ä¸Žæ ‡ç­¾æ•°æ®ã€‚"})]}),t.jsx("span",{className:"px-3 py-1 rounded-full bg-[color:var(--tab-options-tmarks-badge-bg)] text-xs font-medium text-[var(--tab-options-tmarks-badge-text)]",children:"æŽ¨èä½¿ç”¨"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[var(--tab-options-text)] mb-3",children:"æœåŠ¡å™¨åœ°å€"}),t.jsx("input",{type:"url",value:e.bookmarkApiUrl,onChange:t=>o({...e,bookmarkApiUrl:t.target.value}),placeholder:m.DEFAULT_BASE_URL,className:"w-full px-3 py-2 border border-[var(--tab-options-tmarks-input-border)] rounded-lg bg-[var(--tab-options-tmarks-input-bg)] text-[var(--tab-options-tmarks-input-text)] focus:outline-none focus:ring-2 focus:ring-[var(--tab-options-tmarks-input-ring)]"}),t.jsxs("p",{className:"mt-2 text-xs text-[var(--tab-options-text-muted)]",children:[t.jsx("span",{className:"font-medium",children:"TMarks å®˜æ–¹åœ°å€ï¼š"}),t.jsx("code",{className:"ml-1 px-1.5 py-0.5 bg-[var(--tab-options-tmarks-code-bg)] rounded",children:m.DEFAULT_BASE_URL})]}),t.jsxs("div",{className:"mt-2 p-3 bg-[var(--tab-options-tmarks-info-bg)] rounded-lg",children:[t.jsx("p",{className:"text-xs text-[var(--tab-options-tmarks-info-text)] mb-2",children:t.jsx("span",{className:"font-semibold text-[var(--tab-options-tmarks-info-title)]",children:"â„¹ï¸ TMarks è¯´æ˜Žï¼š"})}),t.jsxs("ul",{className:"text-xs text-[var(--tab-options-tmarks-info-text)] space-y-1",children:[t.jsx("li",{children:"â€¢ TMarks æ˜¯ä¸€ä¸ªæ ‡ç­¾ä¸ºä¸»çš„ä¹¦ç­¾å¯¼èˆª"}),t.jsx("li",{children:"â€¢ æ”¯æŒå¤šè®¾å¤‡åŒæ­¥ã€æ ‡ç­¾ç®¡ç†ã€å…¨æ–‡æœç´¢ç­‰åŠŸèƒ½"}),t.jsx("li",{children:"â€¢ å¡«å†™åŸºç¡€åœ°å€å³å¯ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¡¥å…¨ /api è·¯å¾„"}),t.jsxs("li",{children:["â€¢ ä¾‹å¦‚ï¼š",t.jsx("code",{className:"px-1 bg-[var(--tab-options-tmarks-code-bg)] rounded",children:"https://tmarks.669696.xyz"})]})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[var(--tab-options-text)] mb-3",children:"API Key"}),t.jsx("input",{type:"password",value:e.bookmarkApiKey,onChange:t=>o({...e,bookmarkApiKey:t.target.value}),placeholder:"è¯·è¾“å…¥ TMarks API Key",className:"w-full px-3 py-2 border border-[var(--tab-options-tmarks-input-border)] rounded-lg bg-[var(--tab-options-tmarks-input-bg)] text-[var(--tab-options-tmarks-input-text)] focus:outline-none focus:ring-2 focus:ring-[var(--tab-options-tmarks-input-ring)]"}),t.jsx("p",{className:"mt-2 text-xs text-[var(--tab-options-text-muted)]",children:"åœ¨ TMarks è®¾ç½®ä¸­ç”Ÿæˆ API Key"})]})]})]})]})}function S({formData:e,setFormData:o}){return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-[color:var(--tab-options-card-border)] bg-[color:var(--tab-options-card-bg)] shadow-sm backdrop-blur transition-shadow hover:shadow-lg",children:[t.jsx("div",{className:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-[var(--tab-options-modal-topbar-from)] via-[var(--tab-options-modal-topbar-via)] to-[var(--tab-options-modal-topbar-to)]"}),t.jsxs("div",{className:"p-6 pt-10 space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-[var(--tab-options-title)]",children:"å¤–è§‚è®¾ç½®"}),t.jsx("p",{className:"mt-2 text-sm text-[var(--tab-options-text)]",children:"é…ç½®æ‰©å±•çš„ä¸»é¢˜ä¸Žæ ·å¼ã€‚"})]}),t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[var(--tab-options-text)] mb-2",children:"ä¸»é¢˜"}),t.jsxs("div",{className:"inline-flex rounded-xl border border-[color:var(--tab-options-card-border)] bg-[color:var(--tab-options-card-bg)] p-1 text-sm font-medium text-[var(--tab-options-text)]",children:[t.jsx("button",{type:"button",onClick:()=>o({...e,theme:"auto"}),className:"rounded-lg px-3 py-1.5 transition-colors "+("auto"===e.theme?"bg-[var(--tab-options-button-primary-bg)] text-[var(--tab-options-button-primary-text)] shadow":"hover:text-[var(--tab-options-title)]"),children:"è·Ÿéš"}),t.jsx("button",{type:"button",onClick:()=>o({...e,theme:"light"}),className:"rounded-lg px-3 py-1.5 transition-colors "+("light"===e.theme?"bg-[var(--tab-options-button-primary-bg)] text-[var(--tab-options-button-primary-text)] shadow":"hover:text-[var(--tab-options-title)]"),children:"æµ…è‰²"}),t.jsx("button",{type:"button",onClick:()=>o({...e,theme:"dark"}),className:"rounded-lg px-3 py-1.5 transition-colors "+("dark"===e.theme?"bg-[var(--tab-options-button-primary-bg)] text-[var(--tab-options-button-primary-text)] shadow":"hover:text-[var(--tab-options-title)]"),children:"æ·±è‰²"})]}),t.jsx("p",{className:"mt-2 text-xs text-[var(--tab-options-text-muted)]",children:"æŽ§åˆ¶æ‰©å±•çš„æ˜Žæš—æ¨¡å¼ã€‚"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[var(--tab-options-text)] mb-2",children:"ä¸»é¢˜æ ·å¼"}),t.jsxs("div",{className:"inline-flex rounded-xl border border-[color:var(--tab-options-card-border)] bg-[color:var(--tab-options-card-bg)] p-1 text-sm font-medium text-[var(--tab-options-text)]",children:[t.jsx("button",{type:"button",onClick:()=>o({...e,themeStyle:"default"}),className:"rounded-lg px-3 py-1.5 transition-colors "+("default"===e.themeStyle?"bg-[var(--tab-options-button-primary-bg)] text-[var(--tab-options-button-primary-text)] shadow":"hover:text-[var(--tab-options-title)]"),children:"é»˜è®¤"}),t.jsx("button",{type:"button",onClick:()=>o({...e,themeStyle:"bw"}),className:"rounded-lg px-3 py-1.5 transition-colors "+("bw"===e.themeStyle?"bg-[var(--tab-options-button-primary-bg)] text-[var(--tab-options-button-primary-text)] shadow":"hover:text-[var(--tab-options-title)]"),children:"é»‘ç™½"}),t.jsx("button",{type:"button",onClick:()=>o({...e,themeStyle:"tmarks"}),className:"rounded-lg px-3 py-1.5 transition-colors "+("tmarks"===e.themeStyle?"bg-[var(--tab-options-button-primary-bg)] text-[var(--tab-options-button-primary-text)] shadow":"hover:text-[var(--tab-options-title)]"),children:"TMarks"})]}),t.jsx("p",{className:"mt-2 text-xs text-[var(--tab-options-text-muted)]",children:"åˆ‡æ¢æ‰©å±•çš„é…è‰²æ–¹æ¡ˆã€‚"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[var(--tab-options-text)] mb-2",children:"æ ‡ç­¾æ ·å¼"}),t.jsxs("div",{className:"inline-flex rounded-xl border border-[color:var(--tab-options-card-border)] bg-[color:var(--tab-options-card-bg)] p-1 text-sm font-medium text-[var(--tab-options-text)]",children:[t.jsx("button",{type:"button",onClick:()=>o({...e,tagTheme:"classic"}),className:"rounded-lg px-3 py-1.5 transition-colors "+("classic"===e.tagTheme?"bg-[var(--tab-options-button-primary-bg)] text-[var(--tab-options-button-primary-text)] shadow":"hover:text-[var(--tab-options-title)]"),children:"ç»å…¸"}),t.jsx("button",{type:"button",onClick:()=>o({...e,tagTheme:"mono"}),className:"rounded-lg px-3 py-1.5 transition-colors "+("mono"===e.tagTheme?"bg-[var(--tab-options-button-primary-bg)] text-[var(--tab-options-button-primary-text)] shadow":"hover:text-[var(--tab-options-title)]"),children:"çº¯æ–‡å­—"}),t.jsx("button",{type:"button",onClick:()=>o({...e,tagTheme:"bw"}),className:"rounded-lg px-3 py-1.5 transition-colors "+("bw"===e.tagTheme?"bg-[var(--tab-options-button-primary-bg)] text-[var(--tab-options-button-primary-text)] shadow":"hover:text-[var(--tab-options-title)]"),children:"é»‘ç™½"})]}),t.jsx("p",{className:"mt-2 text-xs text-[var(--tab-options-text-muted)]",children:"å¼¹çª—å†…æ ‡ç­¾å±•ç¤ºé£Žæ ¼ã€‚"})]})]})]})]}),t.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-[color:var(--tab-options-card-border)] bg-[color:var(--tab-options-card-bg)] shadow-sm backdrop-blur transition-shadow hover:shadow-lg",children:[t.jsx("div",{className:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-[var(--tab-options-modal-topbar-from)] via-[var(--tab-options-modal-topbar-via)] to-[var(--tab-options-modal-topbar-to)]"}),t.jsxs("div",{className:"p-6 pt-10 space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-[var(--tab-options-title)]",children:"ä¿å­˜é»˜è®¤å€¼"}),t.jsx("p",{className:"mt-2 text-sm text-[var(--tab-options-text)]",children:"é…ç½®ä¿å­˜ä¹¦ç­¾æ—¶çš„é»˜è®¤é€‰é¡¹ã€‚"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[var(--tab-options-text)] mb-2",children:"é»˜è®¤å¯è§æ€§"}),t.jsxs("div",{className:"inline-flex rounded-xl border border-[color:var(--tab-options-card-border)] bg-[color:var(--tab-options-card-bg)] p-1 text-sm font-medium text-[var(--tab-options-text)]",children:[t.jsx("button",{type:"button",onClick:()=>o({...e,defaultVisibility:"public"}),className:"rounded-lg px-3 py-1.5 transition-colors "+("public"===e.defaultVisibility?"bg-[var(--tab-options-button-primary-bg)] text-[var(--tab-options-button-primary-text)] shadow":"hover:text-[var(--tab-options-title)]"),children:"å…¬å¼€"}),t.jsx("button",{type:"button",onClick:()=>o({...e,defaultVisibility:"private"}),className:"rounded-lg px-3 py-1.5 transition-colors "+("private"===e.defaultVisibility?"bg-[var(--tab-options-button-primary-bg)] text-[var(--tab-options-button-primary-text)] shadow":"hover:text-[var(--tab-options-title)]"),children:"éšç§"})]}),t.jsx("p",{className:"mt-2 text-xs text-[var(--tab-options-text-muted)]",children:"ä¿å­˜ä¹¦ç­¾æ—¶çš„é»˜è®¤å¯è§æ€§ã€‚"})]}),t.jsxs("div",{className:"flex items-center justify-between py-3 border-t border-[color:var(--tab-options-card-border)]",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[var(--tab-options-text)]",children:"é»˜è®¤åŒ…å«å°é¢å›¾"}),t.jsx("p",{className:"mt-1 text-xs text-[var(--tab-options-text-muted)]",children:"ä¿å­˜æ—¶æ˜¯å¦åŒ…å«é¡µé¢å°é¢å›¾ã€‚"})]}),t.jsx("button",{type:"button",role:"switch","aria-checked":e.defaultIncludeThumbnail,onClick:()=>o({...e,defaultIncludeThumbnail:!e.defaultIncludeThumbnail}),className:"relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-[var(--tab-options-button-primary-bg)] focus:ring-offset-2 "+(e.defaultIncludeThumbnail?"bg-[var(--tab-options-button-primary-bg)]":"bg-[var(--tab-options-button-hover-bg)]"),children:t.jsx("span",{className:"pointer-events-none inline-block h-5 w-5 transform rounded-full bg-[var(--tab-options-switch-thumb)] shadow ring-0 transition duration-200 ease-in-out "+(e.defaultIncludeThumbnail?"translate-x-5":"translate-x-0")})})]}),t.jsxs("div",{className:"flex items-center justify-between py-3 border-t border-[color:var(--tab-options-card-border)]",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[var(--tab-options-text)]",children:"é»˜è®¤åˆ›å»ºå¿«ç…§"}),t.jsx("p",{className:"mt-1 text-xs text-[var(--tab-options-text-muted)]",children:"ä¿å­˜æ—¶æ˜¯å¦åˆ›å»ºç½‘é¡µå¿«ç…§ã€‚"})]}),t.jsx("button",{type:"button",role:"switch","aria-checked":e.defaultCreateSnapshot,onClick:()=>o({...e,defaultCreateSnapshot:!e.defaultCreateSnapshot}),className:"relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-[var(--tab-options-button-primary-bg)] focus:ring-offset-2 "+(e.defaultCreateSnapshot?"bg-[var(--tab-options-button-primary-bg)]":"bg-[var(--tab-options-button-hover-bg)]"),children:t.jsx("span",{className:"pointer-events-none inline-block h-5 w-5 transform rounded-full bg-[var(--tab-options-switch-thumb)] shadow ring-0 transition duration-200 ease-in-out "+(e.defaultCreateSnapshot?"translate-x-5":"translate-x-0")})})]})]})]})]})]})}function A({stats:e,handleSync:o,isLoading:a,formatDate:s}){return t.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-[color:var(--tab-options-card-border)] bg-[color:var(--tab-options-card-bg)] shadow-sm backdrop-blur transition-shadow hover:shadow-lg",children:[t.jsx("div",{className:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-[var(--tab-options-modal-topbar-from)] via-[var(--tab-options-modal-topbar-via)] to-[var(--tab-options-modal-topbar-to)]"}),t.jsxs("div",{className:"p-6 pt-10 space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-[var(--tab-options-title)]",children:"ç¼“å­˜çŠ¶æ€"}),t.jsx("p",{className:"mt-2 text-sm text-[var(--tab-options-text)]",children:"æŸ¥çœ‹æœ¬åœ°ç¼“å­˜æ¦‚å†µå¹¶æ‰‹åŠ¨è§¦å‘ä¸€æ¬¡åŒæ­¥ã€‚"})]}),t.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[t.jsxs("div",{className:"rounded-xl border border-[color:var(--tab-options-card-border)] bg-[color:var(--tab-options-tag-bg)] p-4 text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-[var(--tab-options-pill-text)]",children:e.tags}),t.jsx("p",{className:"mt-1 text-xs uppercase tracking-wide text-[var(--tab-options-text-muted)]",children:"æ ‡ç­¾æ•°"})]}),t.jsxs("div",{className:"rounded-xl border border-[color:var(--tab-options-card-border)] bg-[color:var(--tab-options-tag-bg)] p-4 text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-[var(--tab-options-pill-text)]",children:e.bookmarks}),t.jsx("p",{className:"mt-1 text-xs uppercase tracking-wide text-[var(--tab-options-text-muted)]",children:"ä¹¦ç­¾æ•°"})]}),t.jsxs("div",{className:"rounded-xl border border-[color:var(--tab-options-card-border)] bg-[color:var(--tab-options-tag-bg)] p-4 text-center",children:[t.jsx("p",{className:"text-xs font-medium text-[var(--tab-options-text)]",children:s(e.lastSync)}),t.jsx("p",{className:"mt-1 text-xs uppercase tracking-wide text-[var(--tab-options-text-muted)]",children:"ä¸Šæ¬¡åŒæ­¥"})]})]}),t.jsx("button",{onClick:o,disabled:a,className:"w-full px-4 py-3 bg-[var(--tab-options-button-primary-bg)] hover:bg-[var(--tab-options-button-primary-hover)] text-[var(--tab-options-button-primary-text)] rounded-lg font-medium disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-colors",children:a?t.jsxs(t.Fragment,{children:[t.jsx(r,{}),t.jsx("span",{children:"åŒæ­¥ä¸­..."})]}):"ç«‹å³åŒæ­¥"})]})]})}function I({isOpen:e,presetLabel:o,presetError:a,isSaving:r,onClose:s,onConfirm:n,onChangeLabel:i}){return e?t.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-[color:var(--tab-options-modal-overlay)] backdrop-blur-sm px-4",children:t.jsxs("div",{className:"relative w-full max-w-md overflow-hidden rounded-2xl border border-[color:var(--tab-options-modal-border)] bg-[color:var(--tab-options-modal-bg)] shadow-xl",children:[t.jsx("div",{className:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-[var(--tab-options-modal-topbar-from)] via-[var(--tab-options-modal-topbar-via)] to-[var(--tab-options-modal-topbar-to)]"}),t.jsxs("div",{className:"p-6 pt-10 space-y-6",children:[t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-[var(--tab-options-title)]",children:"ä¿å­˜å½“å‰é…ç½®"}),t.jsx("p",{className:"mt-1 text-sm text-[var(--tab-options-text)]",children:"ä¸ºå½“å‰ AI è®¾ç½®è¾“å…¥ä¸€ä¸ªæ˜“è®°çš„åç§°ã€‚"})]}),t.jsx("button",{type:"button",onClick:s,className:"rounded-full border border-transparent px-3 py-1 text-xl leading-none text-[var(--tab-options-modal-close-text)] transition-colors hover:border-[var(--tab-options-modal-close-hover-border)] hover:text-[var(--tab-options-modal-close-hover-text)]","aria-label":"å…³é—­",children:"Ã—"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-[var(--tab-options-text)]",children:"é…ç½®åç§°"}),t.jsx("input",{type:"text",value:o,onChange:t=>i(t.target.value),autoFocus:!0,className:"w-full rounded-lg border border-[color:var(--tab-options-button-border)] bg-[color:var(--tab-options-card-bg)] px-3 py-2 text-[var(--tab-options-title)] focus:outline-none focus:ring-2 focus:ring-[var(--tab-options-button-primary-bg)]",placeholder:"ä¾‹å¦‚ï¼šç”Ÿäº§çŽ¯å¢ƒé…ç½®"})]}),a&&t.jsx("div",{className:"rounded-lg border border-[color:var(--tab-options-danger-border)] bg-[color:var(--tab-options-danger-bg)] px-3 py-2 text-sm text-[var(--tab-options-danger-text)]",children:a}),t.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[t.jsx("button",{type:"button",onClick:s,disabled:r,className:"rounded-lg border border-[color:var(--tab-options-button-border)] px-4 py-2 text-sm font-medium text-[var(--tab-options-button-text)] transition-colors hover:bg-[var(--tab-options-button-hover-bg)] disabled:cursor-not-allowed disabled:opacity-60",children:"å–æ¶ˆ"}),t.jsx("button",{type:"button",onClick:n,disabled:r,className:"rounded-lg bg-[var(--tab-options-button-primary-bg)] px-4 py-2 text-sm font-medium text-[var(--tab-options-button-primary-text)] shadow-sm transition-colors hover:bg-[var(--tab-options-button-primary-hover)] disabled:cursor-not-allowed disabled:opacity-60",children:r?"ä¿å­˜ä¸­...":"ç¡®è®¤ä¿å­˜"})]})]})]})}):null}function T({formData:e,setFormData:o,setSuccessMessage:a}){return t.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-[color:var(--tab-options-card-border)] bg-[color:var(--tab-options-card-bg)] shadow-sm backdrop-blur transition-shadow hover:shadow-lg",children:[t.jsx("div",{className:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-[var(--tab-options-modal-topbar-from)] via-[var(--tab-options-modal-topbar-via)] to-[var(--tab-options-modal-topbar-to)]"}),t.jsxs("div",{className:"p-6 pt-10 space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-[var(--tab-options-title)]",children:"TMarks æ ‡ç­¾æŽ¨è"}),t.jsx("p",{className:"mt-2 text-sm text-[var(--tab-options-text)]",children:"é…ç½® TMarks ä¾§çš„æ ‡ç­¾æŽ¨èï¼ˆä¿å­˜ä¹¦ç­¾æ—¶ç”Ÿæˆæ ‡ç­¾ï¼‰ã€‚"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[var(--tab-options-text)]",children:"å¯ç”¨ AI æ ‡ç­¾æŽ¨è"}),t.jsx("p",{className:"mt-1 text-xs text-[var(--tab-options-text-muted)]",children:"å¯ç”¨åŽï¼Œä¿å­˜ä¹¦ç­¾æ—¶è‡ªåŠ¨è°ƒç”¨ AI åˆ†æžé¡µé¢å¹¶æŽ¨èæ ‡ç­¾ã€‚"})]}),t.jsx("button",{type:"button",role:"switch","aria-checked":e.enableAI,onClick:()=>o({...e,enableAI:!e.enableAI}),className:"relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-[var(--tab-options-button-primary-bg)] focus:ring-offset-2 "+(e.enableAI?"bg-[var(--tab-options-button-primary-bg)]":"bg-[var(--tab-options-button-hover-bg)]"),children:t.jsx("span",{className:"pointer-events-none inline-block h-5 w-5 transform rounded-full bg-[var(--tab-options-switch-thumb)] shadow ring-0 transition duration-200 ease-in-out "+(e.enableAI?"translate-x-5":"translate-x-0")})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[var(--tab-options-text)] mb-3",children:"æœ€å¤§æŽ¨èæ ‡ç­¾æ•°"}),t.jsx("input",{type:"number",min:"1",max:"10",value:e.maxSuggestedTags,onChange:t=>o({...e,maxSuggestedTags:parseInt(t.target.value)}),disabled:!e.enableAI,className:"w-full px-3 py-2 border border-[color:var(--tab-options-button-border)] rounded-lg bg-[color:var(--tab-options-card-bg)] text-[var(--tab-options-title)] focus:outline-none focus:ring-2 focus:ring-[var(--tab-options-button-primary-bg)] disabled:opacity-60"}),t.jsx("p",{className:"mt-2 text-xs text-[var(--tab-options-text-muted)]",children:"èŒƒå›´ 1-10ã€‚"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("label",{className:"block text-sm font-medium text-[var(--tab-options-text)]",children:"TMarks æ ‡ç­¾ Prompt"}),t.jsx("button",{type:"button",onClick:()=>o({...e,enableCustomPrompt:!e.enableCustomPrompt}),disabled:!e.enableAI,className:"px-3 py-1 rounded-lg text-xs font-medium transition-colors "+(e.enableAI&&e.enableCustomPrompt?"bg-[var(--tab-options-button-primary-bg)] text-[var(--tab-options-button-primary-text)] hover:bg-[var(--tab-options-button-primary-hover)]":"bg-[var(--tab-options-button-hover-bg)] text-[var(--tab-options-button-text)] hover:bg-[color:var(--tab-options-button-border)]"),children:e.enableCustomPrompt?"å·²å¯ç”¨":"å·²ç¦ç”¨"})]}),e.enableAI&&e.enableCustomPrompt&&t.jsxs("div",{className:"space-y-3",children:[t.jsx("textarea",{value:e.customPrompt,onChange:t=>o({...e,customPrompt:t.target.value}),rows:10,className:"w-full px-3 py-2 border border-[color:var(--tab-options-button-border)] rounded-lg bg-[color:var(--tab-options-card-bg)] text-[var(--tab-options-title)] focus:outline-none focus:ring-2 focus:ring-[var(--tab-options-button-primary-bg)] font-mono text-xs",placeholder:"è‡ªå®šä¹‰ AI æç¤ºè¯..."}),t.jsxs("div",{className:"p-3 bg-[color:var(--tab-options-tag-bg)] rounded-lg",children:[t.jsx("p",{className:"text-xs font-medium text-[var(--tab-options-pill-text)] mb-1",children:"ðŸ’¡ ä¸“ä¸šç¤ºä¾‹ Promptï¼š"}),t.jsx("pre",{className:"text-xs text-[var(--tab-options-text-muted)] whitespace-pre-wrap max-h-32 overflow-y-auto",children:u}),t.jsxs("div",{className:"mt-2 flex gap-2",children:[t.jsx("button",{type:"button",onClick:()=>{o({...e,customPrompt:u})},className:"text-xs px-2 py-1 bg-[var(--tab-options-button-primary-bg)] hover:bg-[var(--tab-options-button-primary-hover)] text-[var(--tab-options-button-primary-text)] rounded-md transition-colors duration-200",children:"ä½¿ç”¨æ­¤ç¤ºä¾‹"}),t.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(u).then(()=>{a("ç¤ºä¾‹ Prompt å·²å¤åˆ¶åˆ°å‰ªè´´æ¿"),setTimeout(()=>a(null),2e3)})},className:"text-xs px-2 py-1 bg-[var(--tab-options-button-primary-bg)] hover:bg-[var(--tab-options-button-primary-hover)] text-[var(--tab-options-button-primary-text)] rounded-md transition-colors duration-200",children:"å¤åˆ¶ç¤ºä¾‹"})]})]})]})]})]})]})]})}function F({formData:o,setFormData:a,setSuccessMessage:r}){const[s,n]=e.useState(!1),[i,l]=e.useState(null),[d,b]=e.useState([]);return t.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-[color:var(--tab-options-card-border)] bg-[color:var(--tab-options-card-bg)] shadow-sm backdrop-blur transition-shadow hover:shadow-lg",children:[t.jsx("div",{className:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-[var(--tab-options-modal-topbar-from)] via-[var(--tab-options-modal-topbar-via)] to-[var(--tab-options-modal-topbar-to)]"}),t.jsxs("div",{className:"p-6 pt-10 space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-[var(--tab-options-title)]",children:"NewTab æ–‡ä»¶å¤¹æŽ¨è"}),t.jsx("p",{className:"mt-2 text-sm text-[var(--tab-options-text)]",children:"é…ç½® Popupã€Œä¿å­˜åˆ° NewTabã€çš„æ–‡ä»¶å¤¹ AI æŽ¨èã€‚"}),t.jsx("p",{className:"mt-2 text-xs text-[var(--tab-options-text-muted)]",children:"NewTab æ ¹ç›®å½•å›ºå®šä¸ºæµè§ˆå™¨ä¹¦ç­¾æ ä¸‹çš„æ–‡ä»¶å¤¹ï¼šTMarksã€‚"}),t.jsx("p",{className:"mt-1 text-xs text-[var(--tab-options-text-muted)]",children:'åŽç»­"AI æ•´ç†"ä¼šåœ¨è¯¥æ ¹ç›®å½•èŒƒå›´å†…åˆ›å»ºå¤‡ä»½å¹¶å¤åˆ¶ç”Ÿæˆæ•´ç†åŽçš„ä¹¦ç­¾ç»“æž„ã€‚'})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[var(--tab-options-text)]",children:"å¯ç”¨ NewTab æ–‡ä»¶å¤¹ AI æŽ¨è"}),t.jsx("p",{className:"mt-1 text-xs text-[var(--tab-options-text-muted)]",children:"å¯ç”¨åŽï¼Œä¿å­˜åˆ° NewTab æ—¶å¯ä½¿ç”¨ AI æŽ¨èæ–‡ä»¶å¤¹ã€‚"})]}),t.jsx("button",{type:"button",role:"switch","aria-checked":o.enableNewtabAI,onClick:()=>a({...o,enableNewtabAI:!o.enableNewtabAI}),className:"relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-[var(--tab-options-button-primary-bg)] focus:ring-offset-2 "+(o.enableNewtabAI?"bg-[var(--tab-options-button-primary-bg)]":"bg-[var(--tab-options-button-hover-bg)]"),children:t.jsx("span",{className:"pointer-events-none inline-block h-5 w-5 transform rounded-full bg-[var(--tab-options-switch-thumb)] shadow ring-0 transition duration-200 ease-in-out "+(o.enableNewtabAI?"translate-x-5":"translate-x-0")})})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-[var(--tab-options-text)] mb-2",children:["æŽ¨èæ–‡ä»¶å¤¹æ•°é‡: ",o.newtabFolderRecommendCount]}),t.jsx("input",{type:"range",min:"1",max:"20",value:o.newtabFolderRecommendCount,onChange:t=>a({...o,newtabFolderRecommendCount:Number(t.target.value)}),className:"w-full"}),t.jsx("p",{className:"mt-1 text-xs text-[var(--tab-options-text-muted)]",children:"AI æŽ¨èçš„å€™é€‰æ–‡ä»¶å¤¹æ•°é‡ï¼ˆ1-20ï¼‰"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"block text-sm font-medium text-[var(--tab-options-text)]",children:"è‡ªå®šä¹‰ Prompt"}),t.jsx("button",{type:"button",role:"switch","aria-checked":o.enableNewtabFolderPrompt,onClick:()=>a({...o,enableNewtabFolderPrompt:!o.enableNewtabFolderPrompt}),className:"relative inline-flex h-5 w-9 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none "+(o.enableNewtabFolderPrompt?"bg-[var(--tab-options-button-primary-bg)]":"bg-[var(--tab-options-button-hover-bg)]"),children:t.jsx("span",{className:"pointer-events-none inline-block h-4 w-4 transform rounded-full bg-[var(--tab-options-switch-thumb)] shadow ring-0 transition duration-200 ease-in-out "+(o.enableNewtabFolderPrompt?"translate-x-4":"translate-x-0")})})]}),o.enableNewtabFolderPrompt&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("textarea",{value:o.newtabFolderPrompt,onChange:t=>a({...o,newtabFolderPrompt:t.target.value}),placeholder:x,rows:8,className:"w-full rounded-lg border border-[var(--tab-options-card-border)] bg-[var(--tab-options-card-bg)] px-3 py-2 text-sm text-[var(--tab-options-text)] placeholder-[var(--tab-options-text-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--tab-options-button-primary-bg)]"}),t.jsxs("p",{className:"text-xs text-[var(--tab-options-text-muted)]",children:["å¯ç”¨å˜é‡: ","{{title}}",", ","{{url}}",", ","{{description}}",", ","{{folderPaths}}",","," ","{{recommendCount}}"]})]})]}),t.jsxs("div",{children:[t.jsx("button",{type:"button",onClick:async()=>{try{if(n(!0),l(null),!chrome?.runtime?.sendMessage)throw new Error("å½“å‰çŽ¯å¢ƒä¸æ”¯æŒ chrome.runtime");const t=await chrome.runtime.sendMessage({type:"GET_NEWTAB_FOLDERS"});if(!t?.success)throw new Error(t?.error||"åŠ è½½å€™é€‰è·¯å¾„å¤±è´¥");const e=(t.data?.folders||[]).filter(e=>e.id!==t.data?.rootId).map(t=>t.path).filter(Boolean);b(e),r("åŠ è½½å€™é€‰è·¯å¾„æˆåŠŸ")}catch(t){l(t instanceof Error?t.message:"åŠ è½½å€™é€‰è·¯å¾„å¤±è´¥"),b([])}finally{n(!1)}},disabled:s,className:"rounded-lg bg-[var(--tab-options-button-primary-bg)] px-4 py-2 text-sm font-medium text-[var(--tab-options-button-primary-text)] hover:opacity-90 disabled:opacity-50",children:s?"åŠ è½½ä¸­...":"åŠ è½½å€™é€‰è·¯å¾„"}),i&&t.jsx("p",{className:"mt-2 text-xs text-red-500",children:i}),d.length>0&&t.jsxs("div",{className:"mt-2 max-h-32 overflow-y-auto rounded-lg border border-[var(--tab-options-card-border)] bg-[var(--tab-options-card-bg)] p-2",children:[t.jsxs("p",{className:"text-xs text-[var(--tab-options-text-muted)] mb-1",children:["å·²åŠ è½½ ",d.length," ä¸ªå€™é€‰è·¯å¾„:"]}),d.slice(0,10).map((e,o)=>t.jsx("div",{className:"text-xs text-[var(--tab-options-text)]",children:e},o)),d.length>10&&t.jsxs("div",{className:"text-xs text-[var(--tab-options-text-muted)]",children:["...è¿˜æœ‰ ",d.length-10," ä¸ª"]})]})]})]})]})]})}const M={openai:p.OPENAI,deepseek:p.DEEPSEEK,siliconflow:p.SILICONFLOW},E=new Set(["openai","deepseek","siliconflow","custom"]),K=t=>{const e=t.trim();return e?e.replace(/\s+/g,"").replace(/\/chat\/completions$/,"").replace(/\/$/,""):e},D=(t,e)=>{if(!E.has(t))return!1;if("custom"===t){const t=e?.trim();return Boolean(t&&/^https?:\/\//.test(t))}return!0};async function U(t,e,o){if(!E.has(t))throw new Error("å½“å‰ AI æœåŠ¡æš‚ä¸æ”¯æŒè‡ªåŠ¨èŽ·å–æ¨¡åž‹åˆ—è¡¨");if(!e.trim())throw new Error("ç¼ºå°‘ API Key");const a=((t,e)=>{if(e&&e.trim())return K(e);const o=M[t];return o?K(o):void 0})(t,o);if(!a)throw new Error("ç¼ºå°‘ API åœ°å€");return(async(t,e)=>{const o=`${t}/models`,a=await fetch(o,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!a.ok){const t=await a.text();throw new Error(`èŽ·å–æ¨¡åž‹åˆ—è¡¨å¤±è´¥ (${a.status}): ${t||a.statusText}`)}const r=await a.json();if(!Array.isArray(r?.data))throw new Error("æ¨¡åž‹åˆ—è¡¨å“åº”æ ¼å¼æ— æ•ˆ");const s=r.data.map(t=>{if(t&&"object"==typeof t&&"id"in t)return t.id}).filter(t=>"string"==typeof t&&t.length>0);if(0===s.length)throw new Error("æ¨¡åž‹åˆ—è¡¨ä¸ºç©º");return s})(a,e)}function L(){const{config:t,loadConfig:o,saveConfig:a,syncCache:r,error:d,successMessage:b,isLoading:c,setError:p,setSuccessMessage:m}=s(),[x,g]=e.useState({theme:"auto",themeStyle:"default",aiProvider:"openai",apiKey:"",apiUrl:"",aiModel:"",bookmarkApiUrl:"",bookmarkApiKey:"",enableCustomPrompt:!1,customPrompt:u,maxSuggestedTags:5,defaultVisibility:"public",enableAI:!0,defaultIncludeThumbnail:!0,defaultCreateSnapshot:!1,tagTheme:"classic",newtabFolderRecommendCount:10,enableNewtabAI:!0,enableNewtabFolderPrompt:!1,newtabFolderPrompt:""}),[f,y]=e.useState({tags:0,bookmarks:0,lastSync:0}),[j,N]=e.useState(!1),[w,k]=e.useState([]),[C,P]=e.useState(!1),[S,A]=e.useState(null),[I,T]=e.useState(0),F=e.useRef(null),[M,E]=e.useState({}),[K,L]=e.useState(!1),[O,R]=e.useState(""),[$,_]=e.useState(!1),[V,z]=e.useState(null),B=()=>`${Date.now()}-${Math.random().toString(16).slice(2,10)}`;e.useEffect(()=>{(async()=>{await o();const t=await h.getStats();y(t)})()},[]),e.useEffect(()=>(n(x.theme),i(()=>x.theme)),[x.theme]),e.useEffect(()=>{l(x.themeStyle)},[x.themeStyle]),e.useEffect(()=>{if(!t)return;const e=t.aiConfig.provider,o=t.aiConfig.apiKeys[e]||"",a=t.aiConfig.apiUrls?.[e]||"";g(r=>({...r,theme:t.preferences.theme??"auto",themeStyle:t.preferences.themeStyle??"default",aiProvider:e,apiKey:o,apiUrl:a,aiModel:t.aiConfig.model||"",bookmarkApiUrl:t.bookmarkSite.apiUrl,bookmarkApiKey:t.bookmarkSite.apiKey,enableCustomPrompt:t.aiConfig.enableCustomPrompt||!1,customPrompt:t.aiConfig.customPrompt||r.customPrompt,maxSuggestedTags:t.preferences.maxSuggestedTags,defaultVisibility:t.preferences.defaultVisibility,enableAI:t.preferences.enableAI??!0,defaultIncludeThumbnail:t.preferences.defaultIncludeThumbnail??!0,defaultCreateSnapshot:t.preferences.defaultCreateSnapshot??!1,tagTheme:t.preferences.tagTheme??"classic",newtabFolderRecommendCount:Math.min(20,Math.max(1,Number(t.preferences.newtabFolderRecommendCount??10))),enableNewtabAI:t.preferences.enableNewtabAI??!0,enableNewtabFolderPrompt:t.preferences.enableNewtabFolderPrompt??!1,newtabFolderPrompt:t.preferences.newtabFolderPrompt??""}));const r=(t=>{const e={};return t?(Object.keys(t).forEach(o=>{const a=t[o]||[];e[o]=Array.isArray(a)?a.slice(0,10).map(t=>({...t,provider:t.provider||o,id:t.id||B()})):[]}),e):e})(t.aiConfig.savedConnections);E(r)},[t]);e.useEffect(()=>{const t=D(x.aiProvider,x.apiUrl),e=x.apiKey.trim();if(!t||!e)return k([]),A(null),P(!1),void(F.current=null);const o=`${x.aiProvider}|${(x.apiUrl||"").trim()}|${e}|${I}`;if(F.current===o)return;let a=!1;return(async()=>{P(!0),A(null);try{const t=await U(x.aiProvider,e,x.apiUrl);if(a)return;k(t),P(!1),A(null),F.current=o,g(e=>e.aiModel?e:{...e,aiModel:t[0]||""})}catch(t){if(a)return;k([]),A(t instanceof Error?t.message:String(t)),P(!1),F.current=o}})(),()=>{a=!0}},[x.aiProvider,x.apiUrl,x.apiKey,I]);const G=e.useMemo(()=>Object.entries(M).flatMap(([t,e])=>(e||[]).map(e=>({...e,provider:e.provider||t}))),[M]),W=D(x.aiProvider,x.apiUrl);return{config:t,error:d,successMessage:b,isLoading:c,setError:p,setSuccessMessage:m,formData:x,setFormData:g,stats:f,isTesting:j,availableModels:w,isFetchingModels:C,modelFetchError:S,modelFetchSupported:W,savedConnections:M,allSavedConnections:G,isPresetModalOpen:K,presetLabel:O,isSavingPreset:$,presetError:V,setPresetLabel:R,handleProviderChange:e=>{const o=t?.aiConfig.apiKeys[e]||"",a=t?.aiConfig.apiUrls?.[e]||"";g(t=>({...t,aiProvider:e,apiKey:o,apiUrl:a})),k([]),A(null),F.current=null},refreshModelOptions:()=>{D(x.aiProvider,x.apiUrl)&&x.apiKey.trim()&&(F.current=null,T(t=>t+1))},handleSave:async()=>{try{await a({aiConfig:{provider:x.aiProvider,apiKeys:{...t?.aiConfig.apiKeys,[x.aiProvider]:x.apiKey},apiUrls:{...t?.aiConfig.apiUrls,[x.aiProvider]:x.apiUrl},model:x.aiModel,enableCustomPrompt:x.enableCustomPrompt,customPrompt:x.customPrompt,savedConnections:M},bookmarkSite:{apiUrl:x.bookmarkApiUrl,apiKey:x.bookmarkApiKey},preferences:{theme:x.theme,themeStyle:x.themeStyle,autoSync:t?.preferences.autoSync??!0,syncInterval:t?.preferences.syncInterval??24,maxSuggestedTags:x.maxSuggestedTags,defaultVisibility:x.defaultVisibility,enableAI:x.enableAI,defaultIncludeThumbnail:x.defaultIncludeThumbnail,defaultCreateSnapshot:x.defaultCreateSnapshot,tagTheme:x.tagTheme,newtabFolderRecommendCount:Math.min(20,Math.max(1,Number(x.newtabFolderRecommendCount??10))),enableNewtabAI:x.enableNewtabAI,enableNewtabFolderPrompt:x.enableNewtabFolderPrompt,newtabFolderPrompt:x.newtabFolderPrompt}}),m("è®¾ç½®å·²ä¿å­˜!"),setTimeout(()=>m(null),2e3)}catch(e){p(e instanceof Error?e.message:"ä¿å­˜å¤±è´¥")}},handleSync:async()=>{try{await r();const t=await h.getStats();y(t)}catch(t){p(t instanceof Error?t.message:"åŒæ­¥å¤±è´¥")}},handleTestAPI:async()=>{try{N(!0),p(null);const{getAIProvider:t}=await v(async()=>{const{getAIProvider:t}=await import("./index-nR4W4XKG.js").then(t=>t.i);return{getAIProvider:t}},__vite__mapDeps([0,1,2])),e=t(x.aiProvider),o={page:{title:"Claude Code - AI ç¼–ç¨‹åŠ©æ‰‹",url:"https://claude.ai",description:"Claude æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ AI ç¼–ç¨‹åŠ©æ‰‹",content:"Claude Code æ˜¯ Anthropic æŽ¨å‡ºçš„æ™ºèƒ½ç¼–ç¨‹å·¥å…·ï¼Œæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€å’Œæ¡†æž¶ã€‚"},context:{existingTags:["å¼€å‘å·¥å…·","AI","ç¼–ç¨‹","æ•ˆçŽ‡"],recentBookmarks:[]},options:{maxTags:3,preferExisting:!0}},a=await e.generateTags(o,x.apiKey,x.aiModel||void 0,x.apiUrl||void 0,x.enableCustomPrompt?x.customPrompt:void 0);m(`API æµ‹è¯•æˆåŠŸï¼è¿”å›ž ${a.suggestedTags.length} ä¸ªæ ‡ç­¾ï¼š${a.suggestedTags.map(t=>t.name).join(", ")}`),setTimeout(()=>m(null),5e3)}catch(t){p(t instanceof Error?t.message:"API æµ‹è¯•å¤±è´¥")}finally{N(!1)}},formatDate:t=>t?new Date(t).toLocaleString("zh-CN"):"ä»ŽæœªåŒæ­¥",handleReset:()=>{confirm("ç¡®å®šè¦é‡ç½®æ‰€æœ‰è®¾ç½®å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚")&&(g({theme:"auto",themeStyle:"default",aiProvider:"openai",apiKey:"",apiUrl:"",aiModel:"",bookmarkApiUrl:"",bookmarkApiKey:"",enableCustomPrompt:!1,customPrompt:u,maxSuggestedTags:5,defaultVisibility:"public",enableAI:!0,defaultIncludeThumbnail:!0,defaultCreateSnapshot:!1,tagTheme:"classic",newtabFolderRecommendCount:10,enableNewtabAI:!0,enableNewtabFolderPrompt:!1,newtabFolderPrompt:""}),m("è®¾ç½®å·²é‡ç½®"),setTimeout(()=>m(null),2e3))},handleSaveConnectionPreset:()=>{if(!x.apiKey.trim())return void p("è¯·å…ˆå¡«å†™ API Key å†ä¿å­˜é…ç½®");const t=`é…ç½® ${(M[x.aiProvider]?.length||0)+1}`;R(t),z(null),L(!0)},handleConfirmSaveConnectionPreset:async()=>{const e=x.apiKey.trim();if(!e)return void z("è¯·å…ˆå¡«å†™ API Key å†ä¿å­˜é…ç½®");const o=O.trim();if(!o)return void z("é…ç½®åç§°ä¸èƒ½ä¸ºç©º");if(!t)return p("é…ç½®å°šæœªåŠ è½½ï¼Œç¨åŽå†è¯•"),void L(!1);_(!0),z(null);const r={apiUrl:x.apiUrl,apiKey:e,model:x.aiModel,label:o,provider:x.aiProvider},s=M,n=((t,e,o)=>{const a=t[e]||[],r=(o.apiUrl||"").trim(),s=(o.apiKey||"").trim(),n=(o.model||"").trim(),i={...o,apiUrl:r||void 0,apiKey:s||void 0,model:n||void 0,provider:e,label:o.label?.trim()||o.label,lastUsedAt:Date.now(),id:o.id||B()},l=Boolean(o.id),d=l?a.findIndex(t=>t.id&&t.id===o.id):-1;let b;return l&&d>=0?(b=[...a],b[d]=i):b=[i,...a].slice(0,10),{...t,[e]:b}})(s,x.aiProvider,r);E(n);try{await a({aiConfig:{...t.aiConfig,savedConnections:n}}),m(`å·²ä¿å­˜ä¸ºã€Œ${o}ã€`),setTimeout(()=>m(null),2e3),L(!1)}catch(i){E(s),z(i instanceof Error?i.message:"ä¿å­˜é…ç½®å¤±è´¥")}finally{_(!1)}},handleClosePresetModal:()=>{$||(L(!1),z(null))},handleApplySavedConnection:(t,e)=>{const o=e||t.provider||x.aiProvider;g(e=>({...e,aiProvider:o,apiUrl:t.apiUrl||"",apiKey:t.apiKey||"",aiModel:t.model||""})),o!==x.aiProvider&&(k([]),A(null),F.current=null)},handleDeleteSavedConnection:async(e,o)=>{const r=o||e.provider||x.aiProvider;if(!r)return void p("æ— æ³•ç¡®å®šé…ç½®æ‰€å±žçš„ AI å¼•æ“Ž");const s=M,n=((t,e,o)=>{const a=t[e]||[],r=(o.apiUrl||"").trim(),s=(o.apiKey||"").trim(),n=(o.model||"").trim(),i=a.filter(t=>o.id&&t.id?t.id!==o.id:(t.apiUrl||"").trim()!==r||(t.apiKey||"").trim()!==s||(t.model||"").trim()!==n),l={...t};return i.length>0?l[e]=i:delete l[e],l})(s,r,e);E(n);try{if(!t)throw new Error("é…ç½®å°šæœªåŠ è½½");await a({aiConfig:{...t.aiConfig,savedConnections:n}}),m("å·²åˆ é™¤ä¿å­˜çš„è¿žæŽ¥"),setTimeout(()=>m(null),2e3)}catch(i){E(s),p(i instanceof Error?i.message:"åˆ é™¤è¿žæŽ¥å¤±è´¥")}}}}function O(){const{error:o,successMessage:a,isLoading:r,setError:s,setSuccessMessage:n,formData:i,setFormData:l,stats:c,isTesting:p,availableModels:m,isFetchingModels:u,modelFetchError:x,modelFetchSupported:v,allSavedConnections:h,isPresetModalOpen:g,presetLabel:f,isSavingPreset:y,presetError:j,setPresetLabel:N,handleProviderChange:w,refreshModelOptions:k,handleSave:M,handleSync:E,formatDate:K,handleReset:D,handleTestAPI:U,handleSaveConnectionPreset:O,handleConfirmSaveConnectionPreset:R,handleClosePresetModal:$,handleApplySavedConnection:_,handleDeleteSavedConnection:V}=L(),[z,B]=e.useState("ai"),G=e.useMemo(()=>[{id:"ai",label:"AI é…ç½®"},{id:"tmarkstag",label:"TMarks"},{id:"newtabtag",label:"NewTab"},{id:"preferences",label:"åå¥½è®¾ç½®"},{id:"tmarks",label:"åŒæ­¥è®¾ç½®"}],[]);return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"min-h-screen w-screen bg-gradient-to-br from-[var(--tab-options-page-bg-from)] via-[var(--tab-options-page-bg-via)] to-[var(--tab-options-page-bg-to)]",children:t.jsxs("div",{className:"w-4/5 mx-auto px-6 py-12",children:[t.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-[color:var(--tab-options-card-border)] bg-[color:var(--tab-options-card-bg)] shadow-sm backdrop-blur mb-10",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[color:var(--tab-options-hero-gradient-from)] via-[color:var(--tab-options-hero-gradient-via)] to-[color:var(--tab-options-hero-gradient-to)]"}),t.jsxs("div",{className:"relative p-10",children:[t.jsx("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[color:var(--tab-options-pill-bg)] text-sm font-medium text-[var(--tab-options-pill-text)]",children:"è®¾ç½®ä¸­å¿ƒ"}),t.jsx("h1",{className:"mt-4 text-4xl font-bold text-[var(--tab-options-title)] tracking-tight",children:"ä¸ªæ€§åŒ–ä½ çš„ä¹¦ç­¾åŠ©ç†"}),t.jsx("p",{className:"mt-3 max-w-2xl text-base text-[var(--tab-options-text)]",children:"ç®¡ç† AI æŽ¥å…¥ã€åŒæ­¥ç­–ç•¥ä¸ŽæœåŠ¡ç«¯é…ç½®ï¼Œä¸ºä½ çš„å·¥ä½œæµæ‰“é€ é¡ºæ»‘çš„çŸ¥è¯†æ”¶é›†ä½“éªŒã€‚"}),t.jsxs("div",{className:"mt-6 flex flex-wrap gap-3 text-xs font-medium text-[var(--tab-options-text-muted)]",children:[t.jsx("span",{className:"px-3 py-1 rounded-full bg-[color:var(--tab-options-tag-bg)] border border-[color:var(--tab-options-tag-border)]",children:"AI æ ‡ç­¾"}),t.jsx("span",{className:"px-3 py-1 rounded-full bg-[color:var(--tab-options-tag-bg)] border border-[color:var(--tab-options-tag-border)]",children:"å¤šç«¯åŒæ­¥"}),t.jsx("span",{className:"px-3 py-1 rounded-full bg-[color:var(--tab-options-tag-bg)] border border-[color:var(--tab-options-tag-border)]",children:"å®‰å…¨é…ç½®"})]})]})]}),t.jsxs("div",{className:"mb-10 space-y-4",children:[o&&t.jsx(d,{message:o,onDismiss:()=>s(null)}),a&&t.jsx(b,{message:a})]}),t.jsxs("div",{className:"grid gap-8 lg:grid-cols-12",children:[t.jsx("div",{className:"lg:col-span-3",children:t.jsxs("div",{className:"sticky top-8 space-y-4",children:[t.jsxs("div",{className:"rounded-2xl border border-[color:var(--tab-options-card-border)] bg-[color:var(--tab-options-card-bg)] shadow-sm backdrop-blur p-3",children:[t.jsx("div",{className:"space-y-2",children:G.map(e=>t.jsx("button",{type:"button",onClick:()=>B(e.id),className:"w-full text-left px-4 py-2 rounded-xl text-sm font-medium transition-colors "+(z===e.id?"bg-[var(--tab-options-button-primary-bg)] text-[var(--tab-options-button-primary-text)]":"text-[var(--tab-options-text)] hover:bg-[var(--tab-options-button-hover-bg)]"),children:e.label},e.id))}),t.jsxs("div",{className:"mt-4 border-t border-[color:var(--tab-options-card-border)] pt-4 space-y-3",children:[t.jsx("div",{className:"text-xs font-semibold text-[var(--tab-options-text-muted)]",children:"ä¿å­˜ä¸ŽåŒæ­¥"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("button",{type:"button",onClick:D,className:"w-full rounded-lg border border-[color:var(--tab-options-button-border)] px-3 py-2 text-sm font-medium text-[var(--tab-options-button-text)] hover:bg-[var(--tab-options-button-hover-bg)] transition-colors",children:"é‡ç½®è®¾ç½®"}),t.jsx("button",{type:"button",onClick:M,disabled:r,className:"w-full rounded-lg bg-[var(--tab-options-button-primary-bg)] px-3 py-2 text-sm font-medium text-[var(--tab-options-button-primary-text)] shadow-sm hover:bg-[var(--tab-options-button-primary-hover)] disabled:cursor-not-allowed disabled:opacity-60 transition-colors",children:r?"ä¿å­˜ä¸­...":"ä¿å­˜è®¾ç½®"})]})]})]}),t.jsx(A,{stats:c,handleSync:E,isLoading:r,formatDate:K})]})}),t.jsxs("div",{className:"lg:col-span-9 space-y-8",children:["ai"===z&&t.jsx(C,{formData:i,setFormData:l,handleProviderChange:w,handleTestConnection:U,isTesting:p,availableModels:m,isFetchingModels:u,modelFetchError:x,onRefreshModels:k,modelFetchSupported:v,allSavedConnections:h,onApplySavedConnection:_,onDeleteSavedConnection:V,onSaveConnectionPreset:O}),"tmarkstag"===z&&t.jsx(T,{formData:i,setFormData:l,setSuccessMessage:n}),"newtabtag"===z&&t.jsx(F,{formData:i,setFormData:l,setSuccessMessage:n}),"preferences"===z&&t.jsx(S,{formData:i,setFormData:l}),"tmarks"===z&&t.jsx(P,{formData:i,setFormData:l})]})]})]})}),t.jsx(I,{isOpen:g,presetLabel:f,presetError:j,isSaving:y,onClose:$,onConfirm:R,onChangeLabel:N})]})}const R=document.getElementById("root");R&&o.createRoot(R).render(t.jsx(a.StrictMode,{children:t.jsx(O,{})}));
